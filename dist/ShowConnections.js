function G(e){window.enmity.plugins.registerPlugin(e)}const p=window.enmity.modules.common.Constants;window.enmity.modules.common.Clipboard,window.enmity.modules.common.Assets,window.enmity.modules.common.Messages,window.enmity.modules.common.Clyde,window.enmity.modules.common.Avatars,window.enmity.modules.common.Native;const o=window.enmity.modules.common.React;window.enmity.modules.common.Dispatcher,window.enmity.modules.common.Storage,window.enmity.modules.common.Toasts,window.enmity.modules.common.Dialog,window.enmity.modules.common.Token,window.enmity.modules.common.REST,window.enmity.modules.common.Settings,window.enmity.modules.common.Users,window.enmity.modules.common.Navigation,window.enmity.modules.common.NavigationNative,window.enmity.modules.common.NavigationStack,window.enmity.modules.common.Theme,window.enmity.modules.common.Linking;const N=window.enmity.modules.common.StyleSheet;window.enmity.modules.common.ColorMap,window.enmity.modules.common.Components,window.enmity.modules.common.Locale,window.enmity.modules.common.Profiles,window.enmity.modules.common.Lodash,window.enmity.modules.common.Logger,window.enmity.modules.common.Flux,window.enmity.modules.common.SVG,window.enmity.modules.common.Scenes,window.enmity.modules.common.Moment;const T={byProps:(...e)=>window.enmity.modules.filters.byProps(...e),byName:(e,n)=>window.enmity.modules.filters.byName(e,n),byTypeName:(e,n)=>window.enmity.modules.filters.byTypeName(e,n),byDisplayName:(e,n)=>window.enmity.modules.filters.byDisplayName(e,n)};function _(...e){return window.enmity.modules.bulk(...e)}function L(...e){return window.enmity.modules.getByProps(...e)}function Y(...e){return window.enmity.modules.getByName(...e)}window.enmity.modules.common;function $(e){return window.enmity.patcher.create(e)}var K="ShowConnections",W="1.0.5",j="",q=[{name:"FutureMapper",profile:"https://github.com/Futuremappermydud",id:"741727188809810181"}],J={source:"https://github.com/Futuremappermydud/Emnity-ShowConnections/",dist:"https://github.com/Futuremappermydud/Emnity-ShowConnections/blob/main/dist/ShowConnections.js"},m={name:K,version:W,description:j,authors:q,links:J};const{components:t}=window.enmity;t.Alert,t.Button,t.FlatList;const A=t.Image;t.ImageBackground,t.KeyboardAvoidingView,t.Modal,t.Pressable,t.RefreshControl;const O=t.ScrollView;t.SectionList,t.StatusBar,t.StyleSheet,t.Switch;const v=t.Text;t.TextInput;const Q=t.TouchableHighlight,F=t.TouchableOpacity;t.TouchableWithoutFeedback,t.Touchable;const h=t.View;t.VirtualizedList,t.Form,t.FormArrow,t.FormCTA,t.FormCTAButton,t.FormCardSection,t.FormCheckbox,t.FormDivider,t.FormHint,t.FormIcon,t.FormInput,t.FormLabel;const S=t.FormRadio,g=t.FormRow;t.FormSection,t.FormSelect,t.FormSubLabel;const X=t.FormSwitch;t.FormTernaryCheckBox,t.FormText,t.FormTextColors,t.FormTextSizes;function f(e,n,i){window.enmity.settings.set(e,n,i)}function b(e,n,i){return window.enmity.settings.get(e,n,i)}function k(e,n,i){return window.enmity.settings.getBoolean(e,n,i)}const B=(e=.1)=>({shadowColor:"#000",shadowOffset:{width:1,height:4},shadowOpacity:e,shadowRadius:4.65,elevation:8}),a=N.createThemedStyleSheet({container:{marginTop:25,marginLeft:"5%",marginBottom:-15,flexDirection:"row"},textContainer:{paddingLeft:15,paddingTop:5,flexDirection:"column",flexWrap:"wrap",...B},image:{width:75,height:75,borderRadius:10,...B},mainText:{opacity:.975,letterSpacing:.25},header:{color:p.ThemeColorMap.HEADER_PRIMARY,fontFamily:p.Fonts.DISPLAY_BOLD,fontSize:25,letterSpacing:.25},subHeader:{color:p.ThemeColorMap.HEADER_SECONDARY,fontSize:12.75}}),E=window.enmity.modules.common.Components.General.Animated,[z]=_(T.byProps("transitionToGuild","openURL"));var Z=({manifest:e})=>{const n=o.useRef(new E.Value(1)).current,i=()=>{E.spring(n,{toValue:1.1,duration:250,useNativeDriver:!0}).start()},l=()=>{E.spring(n,{toValue:1,duration:250,useNativeDriver:!0}).start()},c=()=>z.openURL(e.links.source),u={transform:[{scale:n}]};return o.createElement(h,{style:a.container},o.createElement(F,{onPress:c,onPressIn:i,onPressOut:l},o.createElement(E.View,{style:u},o.createElement(A,{style:[a.image],source:{uri:"https://cdn.discordapp.com/avatars/741727188809810181/8bb5f28abad304e8f5983d077bdf9ae9.png"}}))),o.createElement(h,{style:a.textContainer},o.createElement(F,{onPress:()=>z.openURL(e.links.source)},o.createElement(v,{style:[a.mainText,a.header]},e.name)),o.createElement(h,{style:{flexDirection:"row"}},o.createElement(v,{style:[a.mainText,a.subHeader]},"A project by ",e.authors[0].name)),o.createElement(h,null,o.createElement(F,{style:{flexDirection:"row"}},o.createElement(v,{style:[a.mainText,a.subHeader]},"Version:"),o.createElement(v,{style:[a.mainText,a.subHeader,{paddingLeft:4,fontFamily:p.Fonts.DISPLAY_BOLD}]},e.version)))))};const ee=(e=.1)=>({shadowColor:"#000",shadowOffset:{width:1,height:4},shadowOpacity:e,shadowRadius:4.65,elevation:8}),te=N.createThemedStyleSheet({container:{width:"90%",marginTop:25,marginLeft:"5%",borderRadius:10,backgroundColor:p.ThemeColorMap.BACKGROUND_MOBILE_SECONDARY,shadow:ee}});var oe=({settings:e})=>o.createElement(O,null,o.createElement(Z,{manifest:m}),o.createElement(h,{style:[te.container]},o.createElement(g,{label:"Compact",trailing:o.createElement(S,{selected:b(m.name,"mode","cozy")==="compact"}),onPress:()=>{f(m.name,"mode","compact")}}),o.createElement(g,{label:"Cozy",trailing:o.createElement(S,{selected:b(m.name,"mode","cozy")==="cozy"}),onPress:()=>{f(m.name,"mode","cozy")}}),o.createElement(g,{label:"Roomy",trailing:o.createElement(S,{selected:b(m.name,"mode","cozy")==="roomy"}),onPress:()=>{f(m.name,"mode","roomy")}}),o.createElement(g,{label:"Extreme",trailing:o.createElement(S,{selected:b(m.name,"mode","cozy")==="extreme"}),onPress:()=>{f(m.name,"mode","extreme")}}),o.createElement(g,{label:"Keep Original Connections",subLabel:"Whether to keep the original connections in popout or to hide them",trailing:o.createElement(X,{value:k(m.name,"keepOg",!1),onChange:n=>{f(m.name,"keepOg",n)}})})));function U(e,n,i){return window.enmity.utilities.findInReactTree(e,n,i)}function C(e){return window.enmity.assets.getIDByName(e)}const ne=Y("UserProfileSection"),ie=L("getUserProfile"),[me,re]=_(T.byProps("transitionToGuild","openURL"),T.byProps("setString")),V=[{type:"domain",url:"",usage:"name"},{type:"twitter",url:"https://twitter.com/",usage:"name"},{type:"reddit",url:"https://www.reddit.com/user/",usage:"name"},{type:"github",url:"https://github.com/",usage:"name"},{type:"twitch",url:"https://www.twitch.tv/",usage:"name"},{type:"youtube",url:"https://www.youtube.com/channel/",usage:"id"},{type:"steam",url:"https://steamcommunity.com/id/",usage:"id"},{type:"spotify",url:"https://open.spotify.com/user/",usage:"id"},{type:"spotify",url:"https://open.spotify.com/user/",usage:"id"}];function se({connection:e,userTheme:n}){let i=C(`img_account_sync_${e.type.replace("riotgames","riot")}_light_and_dark`);i||(i=C(`img_account_sync_${e.type.replace("riotgames","riot")}_${n.replace("dark","white")}`)),e.type==="domain"&&(i=C("ic_globe_24px"));let l=b(m.name,"mode","cozy"),c=(()=>{switch(l){case"compact":return 0;case"cozy":return 5;case"roomy":return 10;case"extreme":return 15;default:return 1}})();return console.log(c),o.createElement(Q,{onPress:()=>{var u;V.findIndex(y=>y.type==e.type)==-1?re.setString(e.name):me.openURL(((u=V.find(y=>y.type==e.type))==null?void 0:u.url)+e.name)},style:{margin:{result:c}}},o.createElement(A,{accessibilityLabel:e.type,source:i,style:{width:48,height:48}}))}var ae=({userId:e,theme:n})=>{const i=ie.getUserProfile(e);if(!i)return null;const l=i.connectedAccounts;return l!=null&&l.length?o.createElement(ne,{title:"Connections"},o.createElement(O,{horizontal:!0,style:{flexDirection:"row"}},l.map(c=>o.createElement(se,{connection:c,userTheme:n})))):null};const M=$("show-connections"),le=L("PRIMARY_INFO_TOP_OFFSET","SECONDARY_INFO_TOP_MARGIN","SIDE_PADDING"),ce={...m,onStart(){M.after(le.default,"type",(e,n,i)=>{var l,c,u,y,P,R;let w=(c=(l=U(i,r=>{var s,d;return((s=r==null?void 0:r.type)==null?void 0:s.displayName)==="View"&&((d=r==null?void 0:r.props)==null?void 0:d.children.findIndex(I=>{var D;return((D=I==null?void 0:I.type)==null?void 0:D.name)==="UserProfileBio"}))!==-1}))==null?void 0:l.props)==null?void 0:c.children;const x=(u=U(i,r=>{var s;return((s=r==null?void 0:r.type)==null?void 0:s.name)==="ThemeContextProvider"}))==null?void 0:u.props;if(!w)return i;const{userId:H}=(R=(P=(y=w==null?void 0:w.find(r=>{var s,d;return typeof((d=(s=r==null?void 0:r.props)==null?void 0:s.displayProfile)==null?void 0:d.userId)=="string"}))==null?void 0:y.props)==null?void 0:P.displayProfile)!=null?R:{};if(!k(m.name,"keepOg",!1)){const r=w.findIndex(s=>{var d;return((d=s==null?void 0:s.type)==null?void 0:d.name)==="UserProfileConnections"});w.splice(r,1)}w.unshift(o.createElement(ae,{userId:H,theme:x==null?void 0:x.theme}))})},onStop(){M.unpatchAll()},getSettingsPanel({settings:e}){return o.createElement(oe,{settings:e})}};G(ce);
